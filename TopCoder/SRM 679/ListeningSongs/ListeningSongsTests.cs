using NUnit.Framework;

public class ListeningSongsTests
{
    [TestCaseSource(nameof(TestCases))]
    public void ListenTests(int[] durations1, int[] durations2, int minutes, int T, int result)
    {
        Assert.AreEqual(result, new ListeningSongs().Listen(durations1, durations2, minutes, T));
    }

    private static readonly object[] TestCases =
    {
        new object[] { new[] {300,200,100}, new[] {400,500,600}, 17, 1, 4},
        new object[] { new[] {60,60,60}, new[] {60,60,60}, 5, 2,5},
        new object[] { new[] {120,120,120,120,120}, new[] {60,60,60,60,60,60}, 10, 3,7},
        new object[] { new[] {196,147,201,106,239,332,165,130,205,221,248,108,60},
                       new[] {280,164,206,95,81,383,96,255,260,244,60,313,101}, 60, 3,22},
        new object[] { new[] {100,200,300}, new[] {100,200,300}, 2, 1,-1},
        new object[] { new[] {100,200,300,400,500,600}, new[] {100,200}, 1000, 3,-1},

        // From TopCoder system tests (contains duplicates)
        new object[] { new[] {1117, 3332, 3314, 1808, 146, 1570, 3390, 3580, 1479, 2261, 402, 1441, 2192, 3369, 1165, 2453, 2316, 3073, 2486, 2587, 2902, 166, 3563, 2653, 189, 1675, 917, 2271, 955, 372, 319, 306, 1938, 1867, 2054, 2025, 1671, 1843, 298, 3090, 2338, 640, 2765, 2765, 2244, 329, 3452, 959, 1637, 2337, 1781, 938, 2444, 1743, 1825, 867, 3358, 976, 3078, 712, 1289, 3337, 2794, 1461, 3438, 1247, 1720, 1508, 1325, 253, 2832, 62, 833, 1997, 1061, 1311, 560, 913, 505, 431, 3190, 2226, 1309, 327}, 
                       new[] {2203, 3075, 1134, 1960, 450, 612, 906, 3514, 2183, 99, 3210, 2021, 3122, 1329, 1763, 2681, 1522, 995, 977, 590, 1226, 1979, 135, 3561, 2832, 2415, 392, 715, 2875, 3476, 983, 1477, 1244, 2057, 1671, 3470, 903, 2518, 3383, 3027, 851, 1286, 3282, 2207, 850, 3279, 1287, 606, 2508, 2205, 2971, 133, 2418, 3047, 1929, 1649, 155, 2261, 598, 2971, 2136, 1521, 847, 3321, 1813, 2459, 1484, 950, 3211, 3101, 2211, 2296, 787, 1892, 903, 1577, 3406, 424, 2123, 2313, 2569, 3329, 2387, 3221, 2775, 2550, 3104},
                       7857,
                       44,
                       171},

        new object[] { new[] { 60, 60, 60, 60, 60 }, 
                       new[] { 600, 600, 600, 600, 600 },
                       22, 1, 6 }
    };
}